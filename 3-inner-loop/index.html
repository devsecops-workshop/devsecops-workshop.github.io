<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.69.0" />
    <meta name="description" content="A DevSecOps Workshop Day using openShift and ACS">
<meta name="author" content="GÃ¶tz, Daniel">

    <link rel="icon" href="https://devsecops-workshop.github.io/images/favicon.png" type="image/png">

    <title>Inner Loop :: DevSecOps Workshop</title>

    
    <link href="https://devsecops-workshop.github.io/css/nucleus.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/fontawesome-all.min.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/hybrid.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/featherlight.min.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/perfect-scrollbar.min.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/auto-complete.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/atom-one-dark-reasonable.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/theme.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/tabs.css?1656351397" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/hugo-theme.css?1656351397" rel="stylesheet">
    
    <link href="https://devsecops-workshop.github.io/css/theme-red.css?1656351397" rel="stylesheet">
    
    

    <script src="https://devsecops-workshop.github.io/js/jquery-3.3.1.min.js?1656351397"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/3-inner-loop/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://devsecops-workshop.github.io/">
    <img src="https://devsecops-workshop.github.io/images/acs-logo.png">
  </a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://devsecops-workshop.github.io/js/lunr.min.js?1656351397"></script>
<script type="text/javascript" src="https://devsecops-workshop.github.io/js/auto-complete.js?1656351397"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/devsecops-workshop.github.io\/";
    
</script>
<script type="text/javascript" src="https://devsecops-workshop.github.io/js/search.js?1656351397"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://devsecops-workshop.github.io/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-intro/" title="The DevSecOps Workshop" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/1-intro/">
          The DevSecOps Workshop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-prepare-cluster/" title="Prepare Cluster" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/2-prepare-cluster/">
          Prepare Cluster
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-inner-loop/" title="Inner Loop" class="dd-item
        
        active
        
        ">
      <a href="https://devsecops-workshop.github.io/3-inner-loop/">
          Inner Loop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-outer-loop/" title="Outer Loop" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/4-outer-loop/">
          Outer Loop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-gitops/" title="Configure GitOps" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/5-gitops/">
          Configure GitOps
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/10-rhacs-setup/" title="Install and Configure ACS" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/10-rhacs-setup/">
          Install and Configure ACS
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/11-rhacs-warmup/" title="Getting to know ACS" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/11-rhacs-warmup/">
          Getting to know ACS
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/12-create-policy/" title="Create a Custom Security Policy" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/12-create-policy/">
          Create a Custom Security Policy
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/13-rhacs-pipeline/" title="Integrating ACS into the Pipeline" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/13-rhacs-pipeline/">
          Integrating ACS into the Pipeline
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/14-advanced-pipeline/" title="Advanced ACS Pipeline" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/14-advanced-pipeline/">
          Advanced ACS Pipeline
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/15-runtime-security/" title="Securing Runtime Events" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/15-runtime-security/">
          Securing Runtime Events
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://devsecops-workshop.github.io/"><i class='fas fa-home'></i> Homepage</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='https://devsecops-workshop.github.io/'></a> > Inner Loop
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#clone-the-quarkus-application-code">Clone the Quarkus Application Code</a></li>
    <li><a href="#install-odo">Install odo</a></li>
    <li><a href="#login-to-openshift-and-create-the-development-stage-project">Login to OpenShift and Create the Development Stage Project</a></li>
    <li><a href="#use-odo-to-deploy-and-update-our-application">Use odo to Deploy and Update our Application</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Inner Loop
            </h1>
          

        



	<p>In this part of the workshop you&rsquo;ll experience how modern software development using the OpenShift tooling can be done in a fast, iterative way. <strong>Inner loop</strong> here means <strong>this is the way</strong>, sorry, <strong>process</strong>, for developers to try out new things and quickly change and test their code on OpenShift without having to build new images all the time or being a Kubernetes expert.
<img src="../images/loop.png" alt="Inner Loop"></p>
<h2 id="clone-the-quarkus-application-code">Clone the Quarkus Application Code</h2>
<p>As an example you&rsquo;ll create a new Java application. You don&rsquo;t need to have prior experience programming in Java as this will be kept really simple.</p>

<div class="notices tip" ><p>We will use a Java application based on the <a href="https://quarkus.io/">Quarkus</a> stack. Quarkus enables you to create much smaller and faster containerized Java applications than ever before.  You can even transcompile these apps to native Linux binaries that start blazingly fast.  The app that we will use is just a starter sample created with the <a href="https://code.quarkus.io/">Quarkus Generator</a> with a simple RESTful API that answers to http Requests. But at the end of the day this setup will work with any Java application. <strong>Fun fact:</strong> Every OpenShift Subscription already comes with a Quarkus Subscription.</p>
</div>

<p>Let&rsquo;s clone our project into our workspace :</p>
<ul>
<li>Bring up your <code>CodeReady Workspaces</code> in your browser</li>
<li>In the bottom left click on <strong>Clone Repository</strong> and then enter the <code>Git URL</code> to your <code>Gitea</code> Repo (You can copy the URL by clicking on the clipboard icon)</li>
<li>Press enter and select the default location.</li>
</ul>
<p>You should be greeted by the <code>README.md</code> file.</p>
<h2 id="install-odo">Install odo</h2>
<p>To install the <code>odo</code> cli into your workspace, run the following steps:</p>
<ul>
<li>From the CRW shortcuts menu to the right (the &ldquo;cube icon&rdquo;) run <code>install odo</code></li>
</ul>
<!-- ![Install odo](../images/crw2.png?width=75pc) -->
<figure>
    <img src="../images/crw2.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>

<ul>
<li><code>odo</code> cli will be downloaded and unpacked in your project folder, you can safely ignore the warning about file or directory not found</li>
<li>Close the <code>install odo</code> terminal tab the installation opened</li>
</ul>
<h2 id="login-to-openshift-and-create-the-development-stage-project">Login to OpenShift and Create the Development Stage Project</h2>
<p>Now we want to create a new OpenShift project for our app:</p>
<ul>
<li>Open a <code>terminal</code>
<ul>
<li>In <strong>My Workspace</strong> (cube icon) to the right click <code>New Terminal</code></li>
</ul>
</li>
<li>Copy the <code>oc login</code> command from your OpenShift cluster (At the top right <strong>Username &gt; Copy login command</strong>) and execute in the <code>terminal</code> to log into the OpenShift cluster</li>
<li>Create a new project <code>workshop-dev</code></li>
</ul>
<pre><code>oc new-project workshop-dev
</code></pre><h2 id="use-odo-to-deploy-and-update-our-application">Use odo to Deploy and Update our Application</h2>
<p>First use <code>odo</code> (&ldquo;OpenShift Do&rdquo;) to list the programming languages/frameworks it supports</p>
<pre><code>./odo catalog list components
</code></pre><p>Now initialize a new Quarkus application</p>
<pre><code>./odo create java-quarkus
</code></pre><p>Make the app accessible via http (create a Route)</p>
<pre><code>./odo url create workshop-app
</code></pre><p>And finally push the app to OpenShift</p>
<pre><code>./odo push
</code></pre><p>To test the app:</p>
<ul>
<li>In OpenShift open the <code>workshop-dev</code> project and switch to the <strong>Developer Console</strong></li>
<li>Open the <strong>Topology</strong> view and click on the top right link of Application icon to display the website of the app</li>
<li>Your app should show up as a simple web page. In the <code>RESTEasy JAX-RS</code> section click the <code>@Path</code> endpoint <code>/hello</code> to see the result.</li>
</ul>
<p>Now for the fun part: Using <code>odo</code> you can just dynamically change your code and push it out again without doing a new image build! No dev magic involved:</p>
<ul>
<li>In your CRW Workspace on the left, expand the file tree to open file <code>src/main/java/org/acme/GreetingRessource.java</code> and change the string &ldquo;Hello RESTEasy&rdquo; to &ldquo;Hello Workshop&rdquo; (CRW saves every edit directly. No need to save)</li>
<li>Push the code to OpenShift again</li>
</ul>
<pre><code>./odo push
</code></pre><ul>
<li>And reload the app webpage.</li>
<li>Bam! The change should be there in a matter of seconds</li>
</ul>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://devsecops-workshop.github.io/2-prepare-cluster/" title="Prepare Cluster"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://devsecops-workshop.github.io/4-outer-loop/" title="Outer Loop" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://devsecops-workshop.github.io/js/clipboard.min.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/perfect-scrollbar.min.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/perfect-scrollbar.jquery.min.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/jquery.sticky.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/featherlight.min.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/highlight.pack.js?1656351397"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://devsecops-workshop.github.io/js/modernizr.custom-3.6.0.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/learn.js?1656351397"></script>
    <script src="https://devsecops-workshop.github.io/js/hugo-learn.js?1656351397"></script>
    
        
            <script src="https://devsecops-workshop.github.io/mermaid/mermaid.js?1656351397"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
