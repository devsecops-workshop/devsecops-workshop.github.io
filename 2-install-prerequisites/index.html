<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.69.0" />
    <meta name="description" content="A DevSecOps Workshop Day using openShift and ACS">
<meta name="author" content="GÃ¶tz, Daniel">

    <link rel="icon" href="https://devsecops-workshop.github.io/images/favicon.png" type="image/png">

    <title>Install Prerequisites :: DevSecOps Workshop</title>

    
    <link href="https://devsecops-workshop.github.io/css/nucleus.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/fontawesome-all.min.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/hybrid.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/featherlight.min.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/perfect-scrollbar.min.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/auto-complete.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/atom-one-dark-reasonable.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/theme.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/tabs.css?1714740158" rel="stylesheet">
    <link href="https://devsecops-workshop.github.io/css/hugo-theme.css?1714740158" rel="stylesheet">
    
    <link href="https://devsecops-workshop.github.io/css/theme-red.css?1714740158" rel="stylesheet">
    
    

    <script src="https://devsecops-workshop.github.io/js/jquery-3.3.1.min.js?1714740158"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
<script src="https://devsecops-workshop.github.io/js/custom.js"></script>
  </head>
  <body class="" data-url="/2-install-prerequisites/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://devsecops-workshop.github.io/">
    <img src="https://devsecops-workshop.github.io/images/acs-logo.png">
  </a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://devsecops-workshop.github.io/js/lunr.min.js?1714740158"></script>
<script type="text/javascript" src="https://devsecops-workshop.github.io/js/auto-complete.js?1714740158"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/devsecops-workshop.github.io\/";
    
</script>
<script type="text/javascript" src="https://devsecops-workshop.github.io/js/search.js?1714740158"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://devsecops-workshop.github.io/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-intro/" title="The DevSecOps Workshop" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/1-intro/">
          The DevSecOps Workshop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-install-prerequisites/" title="Install Prerequisites" class="dd-item
        
        active
        
        ">
      <a href="https://devsecops-workshop.github.io/2-install-prerequisites/">
          Install Prerequisites
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2.1-prepare-cluster/" title="Prepare Cluster" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/2.1-prepare-cluster/">
          Prepare Cluster
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-inner-loop/" title="Inner Loop" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/3-inner-loop/">
          Inner Loop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-outer-loop/" title="Outer Loop" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/4-outer-loop/">
          Outer Loop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-gitops/" title="Configure GitOps" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/5-gitops/">
          Configure GitOps
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/10-rhacs-setup/" title="Install and Configure ACS" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/10-rhacs-setup/">
          Install and Configure ACS
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/11-rhacs-warmup/" title="Getting to know ACS" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/11-rhacs-warmup/">
          Getting to know ACS
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/12-create-policy/" title="Create a Custom Security Policy" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/12-create-policy/">
          Create a Custom Security Policy
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/13-rhacs-pipeline/" title="Integrating ACS into the Pipeline" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/13-rhacs-pipeline/">
          Integrating ACS into the Pipeline
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/15-runtime-security/" title="Securing Runtime Events" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/15-runtime-security/">
          Securing Runtime Events
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/16-acm/" title="Advanced Cluster Management" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/16-acm/">
          Advanced Cluster Management
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/20-appendix/" title="Appendix" class="dd-item
        
        
        
        ">
      <a href="https://devsecops-workshop.github.io/20-appendix/">
          Appendix
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://devsecops-workshop.github.io/"><i class='fas fa-home'></i> Homepage</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='https://devsecops-workshop.github.io/'></a> > Install Prerequisites
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#install-prerequisites">Install Prerequisites</a></li>
    <li><a href="#install-openshift-data-foundation">Install OpenShift Data Foundation</a></li>
    <li><a href="#prepare-to-run-oc-commands">Prepare to run oc commands</a>
      <ul>
        <li><a href="#install-openshift-web-terminal">Install OpenShift Web Terminal</a></li>
      </ul>
    </li>
    <li><a href="#install-and-prepare-gitea">Install and Prepare Gitea</a></li>
    <li><a href="#import-the-required-repositories">Import the Required Repositories</a></li>
    <li><a href="#check-openshift-data-foundation-odf-storage-deployment">Check OpenShift Data Foundation (ODF) Storage Deployment</a></li>
    <li><a href="#install-red-hat-quay-container-registry">Install Red Hat Quay Container Registry</a></li>
    <li><a href="#integrate-quay-as-registry-into-openshift">Integrate Quay as Registry into OpenShift</a></li>
    <li><a href="#architecture-recap">Architecture recap</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Install Prerequisites
            </h1>
          

        



	<h2 id="install-prerequisites">Install Prerequisites</h2>
<p>During this workshop you&rsquo;ll install and use a good number of software components. The first one is <code>OpenShift Data Foundation</code> for providing storage. We&rsquo;ll start with it because the install takes a fair amount of time. Number two is <code>Gitea</code> for providing Git services in your cluster with more to follow in subsequent chapters.</p>
<p>But fear not, all are managed by Kubernetes <a href="https://cloud.redhat.com/learn/topics/operators">Operators</a> on OpenShift.</p>
<h2 id="install-openshift-data-foundation">Install OpenShift Data Foundation</h2>
<p>Let&rsquo;s install <a href="https://www.redhat.com/en/technologies/cloud-computing/openshift-data-foundation">OpenShift Data Foundation</a> which you might know under the old name <code>OpenShift Container Storage</code>. It is engineered as the data and storage services platform for OpenShift and provides software-defined storage for containers.</p>
<ul>
<li>Login to the OpenShift Webconsole with your cluster admin credentials</li>
<li>In the Web Console, go to <strong>Operators &gt; OperatorHub</strong> and search for the <code>OpenShift Data Foundation</code> operator
<figure>
    <img src="../images/odf-operator.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>
</li>
<li>Install the operator with default settings</li>
</ul>
<p>After the operator has been installed it will inform you to install a <code>StorageSystem</code>. From the operator overview page click <code>Create StorageSystem</code> with the following settings:</p>
<ul>
<li><strong>Backing storage</strong>: Leave <code>Deployment Type</code> <code>Full deployment</code> and for <code>Backing storage type</code> make sure <code>gp2</code> is selected.</li>
<li>Click <strong>Next</strong></li>
<li><strong>Capacity and nodes</strong>: Leave the <code>Requested capacity</code> as is (2 TiB) and select all nodes.</li>
<li>Click <strong>Next</strong></li>
<li><strong>Security and network</strong>: Leave set to <code>Default (SDN)</code></li>
<li>Click <strong>Next</strong></li>
</ul>
<p>You&rsquo;ll see a review of your settings, hit <code>Create StorageSystem</code>. Don&rsquo;t worry if you see a temporary <em>404 Page</em>. Just releod the browser page once and you will see the System Overview</p>
<figure>
    <img src="../images/odf-systems.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>

<p>As mentioned already this takes some time, so go ahead and install the other prerequisites. We&rsquo;ll come back later.</p>
<h2 id="prepare-to-run-oc-commands">Prepare to run oc commands</h2>
<p>You will be asked to run <code>oc</code> (the OpenShift commandline tool) commands a couple of times. We will do this by using the <strong>OpenShift Web Terminal</strong>. This is the easiest way because you don&rsquo;t have to install <code>oc</code> or an SSH client.</p>
<h3 id="install-openshift-web-terminal">Install OpenShift Web Terminal</h3>
<p>To extend OpenShift with the Web Terminal option, install the <strong>Web Terminal</strong> operator:</p>
<ul>
<li>Login to the OpenShift Webconsole with your cluster admin credentials</li>
<li>In the Web Console, go to <strong>Operators &gt; OperatorHub</strong> and search for the <strong>Web Terminal</strong> operator</li>
<li>Install the operator with the default settings</li>
</ul>
<p>This will take some time and installs another operator as a dependency.</p>
<p>After the operator has installed, reload the OCP Web Console browser window. You will now have a new button (<strong>&gt;_</strong>) in the upper right. Click it to start a new web terminal. From here you can run the <code>oc</code> commands when the lab guide requests it (copy/paste might depend on your laptop OS and browser settings, e.g. try <code>Ctrl-Shift-V</code> for pasting).</p>
<figure>
    <img src="../images/web-terminal.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>


<div class="notices warning" ><p>The terminal is not persistent, so if it was closed for any reason anything you did in the terminal is gone after re-opening.</p>
</div>

<p>If for any reason you can&rsquo;t use the webterminal, your options are:</p>
<ul>
<li>Install and run <code>oc</code> on your laptop</li>
<li>SSH into the bastion host, if running on a Red Hat RHDP lab environment. From here you can just run <code>oc</code> without login.</li>
</ul>
<p>TODO: Change yaml applies to direct git download</p>
<h2 id="install-and-prepare-gitea">Install and Prepare Gitea</h2>
<p>We&rsquo;ll need Git repository services to keep our app and infrastructure source code, so let&rsquo;s just install trusted <code>Gitea</code> using an operator:</p>

<div class="notices tip" ><p><a href="https://gitea.io/en-us/">Gitea</a> is an OpenSource Git Server similar to GitHub. A team at Red Hat was so nice to create an Operator for it. This is a good example of how you can integrate an operator into your catalog that is not part of the default <a href="https://operatorhub.io/">OperatorHub</a> already.</p>
</div>

<p>To integrate the <code>Gitea</code> operator into your Operator catalog you need to access your cluster with the <code>oc</code> client. You can do this in two ways:</p>
<ul>
<li>If you don&rsquo;t already have the oc client installed, you can download the matching version for your operating system <a href="https://mirror.openshift.com/pub/openshift-v4/clients/ocp/stable/">here</a></li>
<li>Login to the OpenShift Web Console with you cluster admin credentials</li>
<li>On the top right click on your username and then <strong>Copy login command</strong> to copy your login token</li>
<li>On you local machine open a terminal and login with the <code>oc</code> command you copied above, you may need to add <strong>&ndash;insecure-skip-tls-verify</strong> at the end of the line</li>
</ul>
<p>Or, if working on a Red Hat RHPDS environment:</p>
<ul>
<li>Use the information provided to login to your bastion host via SSH</li>
<li>When logged in as <code>lab-user</code> you will be able to run <code>oc</code> commands without additional login.</li>
</ul>
<p>Now using <code>oc</code> add the Gitea Operator to your OpenShift OperatorHub catalog:</p>
<pre><code>oc apply -f https://raw.githubusercontent.com/rhpds/gitea-operator/ded5474ee40515c07211a192f35fb32974a2adf9/catalog_source.yaml
</code></pre><ul>
<li>In the Web Console, go to <strong>Operators &gt; OperatorHub</strong> and search for <code>Gitea</code> (You may need to disable search filters)</li>
<li>Install the <code>Gitea Operator</code> with default settings</li>
<li>Go to <strong>Installed Operators &gt; Gitea Operator</strong></li>
<li>Create a new OpenShift <strong>project</strong> called <code>git</code> with the Project selection menu at the top
TODO : Screenshot</li>
<li>Make sure you are in the <code>git</code> project via the top Project selection menu !</li>
<li>Click on <strong>Create new instance</strong> ( while in project <code>git</code>)</li>
</ul>
<!-- ![Gitea](../images/gitea.png) -->
<p><figure>
    <img src="../images/gitea.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>

TODO : Replace Screenshot</p>
<ul>
<li>On the <strong>Create Gitea</strong> page switch to the YAML view and add the following <code>spec</code> values :</li>
</ul>
<pre><code>spec:
  giteaAdminUser: gitea
  giteaAdminPassword: &quot;gitea&quot;
  giteaAdminEmail: opentlc-mgr@redhat.com
</code></pre><ul>
<li>Click <strong>Create</strong></li>
</ul>
<p>After creation has finished:</p>
<ul>
<li>Access the route URL (you&rsquo;ll find it e.g. in <strong>Networking &gt; Routes &gt; repository &gt; Location</strong>). If the Route is not yet there just wait a couple of minutes.</li>
<li>This will take you to the Gitea web UI</li>
<li>Sign-In to <code>Gitea</code> with user <code>gitea</code> and password <code>gitea</code></li>
<li>If your Gitea UI appears in a language other then English (depending on your locale settings), switch it to English. Change the language in your Gitea UI, the example below shows a German example:</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><figure>
    <img src="../images/gitea-lang1.png?width=10pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>
</td>
<td><figure>
    <img src="../images/gitea-lang2.png?width=10pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>
</td>
</tr>
</tbody>
</table>
<h2 id="import-the-required-repositories">Import the Required Repositories</h2>
<p>Now we will clone a git repository of a sample application into our Gitea, so we have some code to works with</p>
<ul>
<li>Clone the example repo:
<ul>
<li>Click the <strong>+</strong> dropdown and choose <strong>New Migration</strong></li>
<li>As type choose <strong>Git</strong></li>
<li><strong>URL</strong>: <a href="https://github.com/devsecops-workshop/quarkus-build-options.git">https://github.com/devsecops-workshop/quarkus-build-options.git</a></li>
<li>Click <strong>Migrate Repository</strong></li>
</ul>
</li>
</ul>
<p>In the cloned repository you&rsquo;ll find a <code>devfile.yaml</code>. We will need the URL to the file soon, so keep the tab open.</p>
<p>In later chapters we will need a second repository to hold your GitOps yaml resources. Let&rsquo;s create this now as well</p>
<ul>
<li>In <code>Gitea</code> create a <strong>New Migration</strong> and clone the Config GitOps Repo which will be the repository that contains our GitOps infrastructure components and state</li>
<li>The URL is <a href="https://github.com/devsecops-workshop/openshift-gitops-getting-started.git">https://github.com/devsecops-workshop/openshift-gitops-getting-started.git</a></li>
</ul>
<h2 id="check-openshift-data-foundation-odf-storage-deployment">Check OpenShift Data Foundation (ODF) Storage Deployment</h2>
<p>Now it&rsquo;s time to check if the <code>StorageSystem</code> deployment from ODF completed succesfully. In the openShift web console:</p>
<ul>
<li>Open <strong>Storage-&gt;DataFoundation</strong></li>
<li>On the overview page go to the <strong>Storage Systems</strong> tab</li>
<li>Click <strong>ocs-storagecluster-storagesystem</strong></li>
<li>On the next page make sure the status indicators on the <strong>Block and File</strong> and <strong>Object</strong> tabs are <strong>green</strong>!</li>
</ul>
<figure>
    <img src="../images/storage-system1.png?width=40pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>

<figure>
    <img src="../images/storage-system2.png?width=45pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>

<p>Your container storage is ready to go, explore the information on the overview pages if you&rsquo;d like.</p>
<h2 id="install-red-hat-quay-container-registry">Install Red Hat Quay Container Registry</h2>
<p>The image that we have just deployed was pushed to the internal OpenShift Registry which is a great starting point for your cloud native journey. But if you require more control over you image repos, a graphical GUI, scalability, internal security scanning and the like you may want to upgrade to <strong>Red Hat Quay</strong>. So as a next step we want to replace the internal registry with Quay.</p>
<p>Quay installation is done through an operator, too:</p>
<ul>
<li>In <strong>Operators-&gt;OperatorHub</strong> filter for <code>Quay</code></li>
<li>Install the <strong>Red Hat Quay</strong> Operator with the default settings</li>
<li>Create a new project called <code>quay</code> at the top Project selection menu</li>
<li>While in the project <code>quay</code> go to <strong>Administration-&gt;LimitRanges</strong> and delete the <code>quay-core-resource-limits</code>
<figure>
    <img src="../images/delete-limit-range.png?width=45pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>
</li>
<li>In the operator overview of the Quay Operator on the <strong>Quay Registry</strong> tile click <strong>Create instance</strong></li>
<li>If the <em>YAML view</em> is shown switch to <em>Form view</em></li>
<li>Make sure you are in the <code>quay</code> project</li>
<li>Change the name to <code>quay</code></li>
<li>Click <strong>Create</strong></li>
<li>Click the new Quayregistry, scroll down to <strong>Conditions</strong> and wait until the <strong>Available</strong> type changes to <code>True</code>
<figure>
    <img src="../images/quay-available.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>
</li>
</ul>
<p>Now that the Registry is installed you have to configure a superuser:</p>
<ul>
<li>Make sure you are in the <code>quay</code> Project</li>
<li>Go to <strong>Networking-&gt;Routes</strong>, access the Quay portal using the URL of the first route (<code>quay-quay</code>)</li>
<li>Click <strong>Create Account</strong>
<ul>
<li>As username put in <code>quayadmin</code>, a (fake) email address and and <code>quayadmin</code> as password.</li>
</ul>
</li>
<li>Click <strong>Create Account</strong> again</li>
<li>In the OpenShift Web Console open <strong>Workloads-&gt;Secrets</strong></li>
<li>Search for <code>quay-config-editor-credentials-...</code>, open the secret and copy the values, you&rsquo;ll need them in a second.</li>
<li>Go back to the <strong>Routes</strong> and open the <code>quay-quay-config-editor</code> route</li>
<li>Login with the values of the secret from above</li>
<li>Click <strong>Sign in</strong></li>
<li>Scroll down to <strong>Access Settings</strong></li>
<li>As <strong>Super User</strong> put in <code>quayadmin</code></li>
<li>click <strong>Validate Configuration Changes</strong> and after the validation click <strong>Reconfigure Quay</strong></li>
</ul>
<p>Reconfiguring Quay takes some time. The easiest way to determine if it&rsquo;s been finished is to open the Quay portal (using the <code>quay-quay</code> Route). At the upper right you&rsquo;ll see the username (<code>quayadmin</code>), if you click the username the drop-down should show a link <strong>Super User Admin Panel</strong>. When it shows up you can proceed.</p>
<figure>
    <img src="../images/quay-superuser.png?width=15pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>

<h2 id="integrate-quay-as-registry-into-openshift">Integrate Quay as Registry into OpenShift</h2>
<p>To synchronize the internal default OpenShift Registry with the Quay Registry, <strong>Quay Bridge</strong> is used.</p>
<ul>
<li>In the OperatorHub of your cluster, search for the <strong>Quay Bridge</strong> Operator
<ul>
<li>Install it with default settings</li>
</ul>
</li>
</ul>
<p>Now we finally create an <strong>Quay Bridge</strong> instance. :</p>
<ul>
<li>Go to the Red Hat <strong>Quay Bridge</strong> Operator overview (make sure you are in the <code>quay</code> namespace)</li>
<li>On the <strong>Quay Integration</strong> tile click <strong>Create Instance</strong>
<ul>
<li>Open <strong>Credentials secret</strong>
<ul>
<li><strong>Namespace containing the secret</strong>: <code>quay</code></li>
<li><strong>Key within the secret</strong>: <code>token</code></li>
</ul>
</li>
<li>Copy the Quay Portal hostname (including <code>https://</code>) and paste it into the <strong>Quay Hostname</strong> field</li>
<li>Set <strong>Insecure registry</strong> to <code>true</code></li>
<li>Click <strong>Create</strong></li>
</ul>
</li>
</ul>
<h2 id="architecture-recap">Architecture recap</h2>
<figure>
    <img src="../images/workshop_architecture_prepare.png?width=50pc&amp;classes=border,shadow"/> <figcaption>
            <h4>Click image to enlarge</h4>
        </figcaption>
</figure>






<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://devsecops-workshop.github.io/1-intro/" title="The DevSecOps Workshop"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://devsecops-workshop.github.io/2.1-prepare-cluster/" title="Prepare Cluster" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://devsecops-workshop.github.io/js/clipboard.min.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/perfect-scrollbar.min.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/perfect-scrollbar.jquery.min.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/jquery.sticky.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/featherlight.min.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/highlight.pack.js?1714740158"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://devsecops-workshop.github.io/js/modernizr.custom-3.6.0.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/learn.js?1714740158"></script>
    <script src="https://devsecops-workshop.github.io/js/hugo-learn.js?1714740158"></script>
    
        
            <script src="https://devsecops-workshop.github.io/mermaid/mermaid.js?1714740158"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
